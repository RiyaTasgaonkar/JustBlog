{% load static %}
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="{% static 'img/typewriter.svg' %}">
  <link rel="icon" type="image/png" href="{% static 'img/typewriter.svg' %}">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>JustBlog-{{ user }}</title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />

  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
  <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">

  <!-- CSS Files -->
  <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" />
  <link href="{% static 'css/master.css' %}" rel="stylesheet" />
  <link href="{% static 'css/now-ui-kit.css' %}" rel="stylesheet" />

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>


</head>

<body class="sidebar-collapse">

  <!-- navbar-->
  <nav class="navbar navbar-expand-lg fixed-top navbar-transparent " color-on-scroll="100" style="color: transparent;">
    <div class="container">
      <div class="navbar-translate">
        <a class="navbar-brand" href="{% url 'home'%}" data-placement="bottom" target="_blank">Just_Blog</a>
        <button class="navbar-toggler navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-bar top-bar"></span>
          <span class="navbar-toggler-bar middle-bar"></span>
          <span class="navbar-toggler-bar bottom-bar"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse justify-content-end" id="navigation" data-nav-image="./assets/img/blurred-image-1.jpg">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="{% url 'posts'%}">
              <p>Posts</p>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'upload'%}">
              <p>Upload</p>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'search'%}">
              <p>Search</p>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'subscription'%}">
              <p>Subscribe</p>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'logout' %}">
              <p>Logout</p>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              <p>{{ user }}</p>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!--home-->
  <div class="container">
    <div class="col-md-9 mx-auto" style="margin-top:150px">
      {% if messages %}
      {% for msg in messages%}
      <div class="alert alert-dark">
        {{ msg }}
      </div>
      {% endfor %}
      {% endif %}
      {% if posts %}
      <h3 class="primary-text">Posts by {{ user }}</h3>
      {% for post in posts %}
      <div class="card">
        <div class="card-body">
          <h4 class="card-title text-center">{{ post.postTitle }}</h4>
          <p class="card-text show-read-more">
            {{ post.postContent }}
          </p>
          <a href="{% url 'post-details' post.id %}"  style="font-size:1rem;">Read more...</a>
        </div>
        <div class="card-footer text-muted mb-2" style="text-align:left; padding-left:1.5rem;">
          <a href="{% url 'delete' post.id %}" class="btn btn-outline-primary btn-round mr-3">Delete</a>
          <a href="{% url 'update' post.id %}" class="btn btn-outline-primary btn-round">Update</a><br>
          {{ post.date | date:'d M Y' }}
        </div>
      </div>
      {% endfor %}
      {% else %}
      <h3 class="primary-text">No posts by {{ user }}</h3>
      <img src="{% static 'img/no result.svg'%}" style="height: 14rem;" class="rounded mx-auto d-block px-4 py-4">
      <div class=" col-md-9 text-center  mx-auto py-5">
        <h5 class="text-secondary">Want to upload new blogs?<em><a href="{% url 'upload'%}" style="color:#d72323">Upload</a></em></h5>
      </div>
      {% endif %}
    </div>
  </div>

  <footer class="container-fluid">
    <div class="row">
      <div class="ml-3 py-2 px-2" style="color: #f5eded"> Made with <i class="fas fa-heart" style="color: #d72323;"></i></div>
      <div class="ml-auto mr-3 py-2 px-2" >
      <i class="footer-icons fab fa-twitter"></i>
      <i class="footer-icons fab fa-facebook-f"></i>
      <i class="footer-icons fab fa-instagram"></i>
    </div>
    </div>
  </footer>




  <!--   Core JS Files   -->
  <script>
  $(document).ready(function(){
    var maxLength = 300;
    $(".show-read-more").each(function(){
      var myStr = $(this).text();
      if($.trim(myStr).length > maxLength){
        var newStr = myStr.substring(0, maxLength);
        var removedStr = myStr.substring(maxLength, $.trim(myStr).length);
        $(this).empty().html(newStr);
      }
    });
  });
  </script>
  <script src="{% static 'js/core/jquery.min.js' %}" type="text/javascript"></script>
  <script src="{% static 'js/core/popper.min.js' %}" type="text/javascript"></script>
  <script src="{% static 'js/core/bootstrap.min.js' %}" type="text/javascript"></script>

  <!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
  <script src="{% static 'js/plugins/bootstrap-switch.js' %}"></script>

  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="{% static 'js/plugins/nouislider.min.js' %}" type="text/javascript"></script>

  <!--  Plugin for the DatePicker, full documentation here: https://github.com/uxsolutions/bootstrap-datepicker -->
  <script src="{% static 'js/plugins/bootstrap-datepicker.js' %}" type="text/javascript"></script>

  <!-- Control Center for Now Ui Kit: parallax effects, scripts for the example pages etc -->
  <script src="{% static 'js/now-ui-kit.js' %}" type="text/javascript"></script>
</body>

</html>
